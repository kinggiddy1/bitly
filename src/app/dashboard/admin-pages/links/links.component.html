<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Bitly Links</h2>
    <a class="btn btn-primary" routerLink="/createUrl" >Create link</a>
  </div>

  <div class="mb-3 d-flex justify-content-between">
    <input type="text" class="form-control w-50" placeholder="Search links..." />
    <div>
      <button class="btn btn-outline-secondary">Add filters</button>
    </div>
  </div>

  @for (link of links; track $index) {
    <div class="card mb-4 bg-body-white">
      <div class="card-body" style="border-radius: 20px; cursor: pointer;">
        <div class="row">
          <!-- Link information -->
          <div class="col-12 col-md-8 mb-3 mb-md-0">
            <h5 class="text-truncate">{{ link.long_url }}</h5>
            <a [href]="'http://localhost:3000/' + link.short_code" 
               target="_blank" 
               class="text-primary d-block text-break">
              {{ link.short_code }}
            </a>
            <small class="text-muted d-block mt-2">
              Total Clicks: {{ link.clicks }} | ðŸ”— {{ link.created_at | date: 'fullDate'}}
            </small>
          </div>
          
          <!-- Buttons -->
          <div class="col-12 col-md-2 d-flex flex-column justify-content-center">
            <div class="d-grid gap-2">
              <button class="btn btn-outline-primary" 
                      (click)="copyToClipboard('http://localhost:3000/' + link.short_code)">
                <i class="bi bi-clipboard"></i> Copy
              </button>
             <!-- https://node-api.thefocalmedia.com/-->
              <button class="btn btn-outline-primary" 
                      (click)="copyToClipboard('http://localhost:3000/' + link.short_code)">
                <i class="bi bi-share"></i> Share
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  }
</div>
